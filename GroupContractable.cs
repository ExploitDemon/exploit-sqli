// Decompiled with JetBrains decompiler
// Type: GroupContractable
// Assembly: SQLi Dumper, Version=8.5.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FFDD07D3-5737-4188-BACA-DE2D004C7CCF
// Assembly location: C:\Users\cole\Desktop\SQLi Dumper v8.5 [VeryClean]\SQLi v.8.5 VeryClean by Stephanny.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Collections;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.Runtime.CompilerServices;
using System.Windows.Forms;

public class GroupContractable : Panel
{
  private IContainer components;
  [AccessedThroughProperty("picPlus")]
  private PictureBox _picPlus;
  [AccessedThroughProperty("picMinus")]
  private PictureBox _picMinus;
  [AccessedThroughProperty("picConEx")]
  private PictureBox _picConEx;
  [AccessedThroughProperty("__Label")]
  private Label ___Label;
  private GroupBox __GroupBox;
  private bool __IsContracted;
  private int __MinHeight;
  private int __SizeHeight;
  private GroupContractable.enTitleAling __TitleAling;
  private bool __EnableCollap;

  [DebuggerNonUserCode]
  public GroupContractable(IContainer container)
    : this()
    => container?.Add((IComponent) this);

  [DebuggerNonUserCode]
  public GroupContractable()
  {
    this.Resize += new EventHandler(this.GroupContractable_Resize);
    this.ControlAdded += new ControlEventHandler(this.GroupContractable_ControlAdded);
    this.Paint += new PaintEventHandler(this.GroupContractable_Paint);
    this.__TitleAling = GroupContractable.enTitleAling.Left;
    this.__EnableCollap = true;
    this.InitializeComponent();
    this.Ini();
  }

  [DebuggerNonUserCode]
  protected override void Dispose(bool disposing)
  {
    try
    {
      if (!disposing || this.components == null)
        return;
      this.components.Dispose();
    }
    finally
    {
      base.Dispose(disposing);
    }
  }

  [DebuggerStepThrough]
  private void InitializeComponent()
  {
    ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (GroupContractable));
    this.picPlus = new PictureBox();
    this.picMinus = new PictureBox();
    this.picConEx = new PictureBox();
    ((ISupportInitialize) this.picPlus).BeginInit();
    ((ISupportInitialize) this.picMinus).BeginInit();
    ((ISupportInitialize) this.picConEx).BeginInit();
    this.SuspendLayout();
    this.picPlus.BackColor = SystemColors.ControlText;
    this.picPlus.Image = (Image) componentResourceManager.GetObject("picPlus.Image");
    PictureBox picPlus1 = this.picPlus;
    Point point1 = new Point(3, 32);
    Point point2 = point1;
    picPlus1.Location = point2;
    this.picPlus.Name = "picPlus";
    PictureBox picPlus2 = this.picPlus;
    Size size1 = new Size(9, 9);
    Size size2 = size1;
    picPlus2.Size = size2;
    this.picPlus.SizeMode = PictureBoxSizeMode.AutoSize;
    this.picPlus.TabIndex = 5;
    this.picPlus.TabStop = false;
    this.picPlus.Visible = false;
    this.picMinus.BackColor = SystemColors.ControlText;
    this.picMinus.Image = (Image) componentResourceManager.GetObject("picMinus.Image");
    PictureBox picMinus1 = this.picMinus;
    point1 = new Point(14, 32);
    Point point3 = point1;
    picMinus1.Location = point3;
    this.picMinus.Name = "picMinus";
    PictureBox picMinus2 = this.picMinus;
    size1 = new Size(9, 9);
    Size size3 = size1;
    picMinus2.Size = size3;
    this.picMinus.SizeMode = PictureBoxSizeMode.AutoSize;
    this.picMinus.TabIndex = 4;
    this.picMinus.TabStop = false;
    this.picMinus.Visible = false;
    this.picConEx.BackColor = SystemColors.ControlText;
    this.picConEx.Image = (Image) componentResourceManager.GetObject("picConEx.Image");
    PictureBox picConEx1 = this.picConEx;
    point1 = new Point(2, 6);
    Point point4 = point1;
    picConEx1.Location = point4;
    this.picConEx.Name = "picConEx";
    PictureBox picConEx2 = this.picConEx;
    size1 = new Size(9, 9);
    Size size4 = size1;
    picConEx2.Size = size4;
    this.picConEx.SizeMode = PictureBoxSizeMode.AutoSize;
    this.picConEx.TabIndex = 6;
    this.picConEx.TabStop = false;
    this.Font = new Font("Tahoma", 8.25f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
    this.ForeColor = SystemColors.ControlText;
    size1 = new Size(0, 16);
    this.MinimumSize = size1;
    ((ISupportInitialize) this.picPlus).EndInit();
    ((ISupportInitialize) this.picMinus).EndInit();
    ((ISupportInitialize) this.picConEx).EndInit();
    this.ResumeLayout(false);
  }

  private virtual PictureBox picPlus
  {
    get => this._picPlus;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._picPlus = value;
  }

  private virtual PictureBox picMinus
  {
    get => this._picMinus;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._picMinus = value;
  }

  private virtual PictureBox picConEx
  {
    get => this._picConEx;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.OnClick_Click);
      if (this._picConEx != null)
        this._picConEx.Click -= eventHandler;
      this._picConEx = value;
      if (this._picConEx == null)
        return;
      this._picConEx.Click += eventHandler;
    }
  }

  private virtual Label __Label
  {
    get => this.___Label;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.OnClick_Click);
      if (this.___Label != null)
        this.___Label.Click -= eventHandler;
      this.___Label = value;
      if (this.___Label == null)
        return;
      this.___Label.Click += eventHandler;
    }
  }

  public event GroupContractable.OnCollapsedEventHandler OnCollapsed;

  private void Ini()
  {
    this.__Label = new Label();
    this.__Label.Text = Versioned.TypeName((object) this);
    this.__Label.Font = this.Font;
    this.__Label.ForeColor = ColorTranslator.FromWin32(Information.RGB(0, 0, 210));
    this.__Label.BackColor = Color.Transparent;
    this.__Label.AutoSize = true;
    this.picConEx.Image = this.picMinus.Image;
    this.__GroupBox = new GroupBox();
    this.__GroupBox.Text = "";
    this.__GroupBox.Anchor = AnchorStyles.Top | AnchorStyles.Bottom | AnchorStyles.Left | AnchorStyles.Right;
    this.Controls.Add((Control) this.__GroupBox);
    this.Controls.Add((Control) this.__Label);
    this.Controls.Add((Control) this.picConEx);
    this.picConEx.Top = 4;
    this.picConEx.Left = 0;
    this.__Label.Top = 0;
    this.__Label.Left = 9;
    this.__Label.Parent = (Control) this;
    this.__SizeHeight = this.Height;
    this.__MinHeight = this.MinimumSize.Height;
  }

  public GroupContractable.enTitleAling TitleAling
  {
    get => this.__TitleAling;
    set
    {
      this.__TitleAling = value;
      this.GroupContractable_Resize((object) null, (EventArgs) null);
    }
  }

  public Color TitleForeColor
  {
    get => this.__Label.ForeColor;
    set => this.__Label.ForeColor = value;
  }

  public bool EnableCollap
  {
    get => this.__EnableCollap;
    set
    {
      this.__EnableCollap = value;
      this.picConEx.Visible = value;
      if (!(!value & this.HasCollapsed))
        return;
      this.SetCollapsed(false);
    }
  }

  public string TitleText
  {
    get => this.__Label.Text;
    set
    {
      this.__Label.Text = value;
      this.GroupContractable_Resize((object) null, (EventArgs) null);
    }
  }

  public new BorderStyle BorderStyle
  {
    get => base.BorderStyle;
    set
    {
    }
  }

  public bool HasCollapsed => this.__IsContracted;

  private void GroupContractable_ControlAdded(object sender, ControlEventArgs e)
  {
    this.__GroupBox.SendToBack();
    e.Control.BringToFront();
  }

  private void GroupContractable_Paint(object sender, PaintEventArgs e) => this.__GroupBox.SendToBack();

  private void GroupContractable_Resize(object sender, EventArgs e)
  {
label_0:
    int num1;
    int num2;
    try
    {
      ProjectData.ClearProjectError();
      num1 = 1;
label_1:
      int num3 = 2;
      this.__GroupBox.Width = this.Width;
label_2:
      num3 = 3;
      this.__GroupBox.Left = 0;
label_3:
      num3 = 4;
      if (this.__IsContracted)
        goto label_7;
label_4:
      num3 = 5;
      this.__SizeHeight = this.Height;
label_5:
      num3 = 6;
      this.__GroupBox.Top = 1;
label_6:
      num3 = 7;
      this.__GroupBox.Height = checked (this.Height - 4);
      goto label_11;
label_7:
      num3 = 9;
label_8:
      num3 = 10;
      this.Height = this.__MinHeight;
label_9:
      num3 = 11;
      this.__GroupBox.Top = 2;
label_10:
      num3 = 12;
      this.__GroupBox.Height = checked (this.Height - 8);
label_11:
      num3 = 14;
      if (this.__TitleAling != GroupContractable.enTitleAling.Left)
        goto label_14;
label_12:
      num3 = 15;
      this.picConEx.Left = 0;
label_13:
      num3 = 16;
      this.__Label.Left = 9;
      goto label_23;
label_14:
      num3 = 18;
label_15:
      num3 = 19;
      this.picConEx.Left = checked (this.Width - this.picConEx.Width);
label_16:
      num3 = 20;
      this.__Label.Left = checked (this.Width - this.picConEx.Width - this.__Label.Width);
      goto label_23;
label_18:
      num2 = num3;
      switch (num1)
      {
        case 1:
          int num4 = num2 + 1;
          num2 = 0;
          switch (num4)
          {
            case 1:
              goto label_0;
            case 2:
              goto label_1;
            case 3:
              goto label_2;
            case 4:
              goto label_3;
            case 5:
              goto label_4;
            case 6:
              goto label_5;
            case 7:
              goto label_6;
            case 8:
            case 13:
            case 14:
              goto label_11;
            case 9:
              goto label_7;
            case 10:
              goto label_8;
            case 11:
              goto label_9;
            case 12:
              goto label_10;
            case 15:
              goto label_12;
            case 16:
              goto label_13;
            case 17:
            case 21:
            case 22:
              goto label_23;
            case 18:
              goto label_14;
            case 19:
              goto label_15;
            case 20:
              goto label_16;
          }
          break;
      }
    }
    catch (Exception ex) when (ex is Exception & (uint) num1 > 0U & num2 == 0)
    {
      ProjectData.SetProjectError(ex);
      goto label_18;
    }
    throw ProjectData.CreateProjectError(-2146828237);
label_23:
    if (num2 == 0)
      return;
    ProjectData.ClearProjectError();
  }

  private void OnClick_Click(object sender, EventArgs e)
  {
    if (!(this.__EnableCollap | this.__IsContracted & !this.__EnableCollap))
      return;
    Globals.LockWindowUpdate(this.Parent.Handle);
    if (!this.__IsContracted)
    {
      this.__IsContracted = true;
      this.Height = this.__MinHeight;
      this.picConEx.Image = this.picPlus.Image;
      this.SetObjectsState(!this.__IsContracted);
      GroupContractable.OnCollapsedEventHandler onCollapsedEvent = this.OnCollapsedEvent;
      if (onCollapsedEvent != null)
        onCollapsedEvent((object) this, this.__IsContracted);
    }
    else
    {
      this.__IsContracted = false;
      this.Height = this.__SizeHeight;
      this.picConEx.Image = this.picMinus.Image;
      this.SetObjectsState(!this.__IsContracted);
      GroupContractable.OnCollapsedEventHandler onCollapsedEvent = this.OnCollapsedEvent;
      if (onCollapsedEvent != null)
        onCollapsedEvent((object) this, this.__IsContracted);
    }
    this.Invalidate();
    Globals.LockWindowUpdate(IntPtr.Zero);
  }

  private void SetObjectsState(bool b)
  {
    try
    {
      foreach (Control control in this.Controls)
      {
        string name = control.Name;
        if (Operators.CompareString(name, this.__Label.Name, false) != 0 && Operators.CompareString(name, this.picConEx.Name, false) != 0 && Operators.CompareString(name, this.__GroupBox.Name, false) != 0)
          control.Visible = b;
      }
    }
    finally
    {
      IEnumerator enumerator;
      if (enumerator is IDisposable)
        (enumerator as IDisposable).Dispose();
    }
  }

  public void SetObjectsEnabled(bool b)
  {
    try
    {
      foreach (Control control in this.Controls)
      {
        string name = control.Name;
        if (Operators.CompareString(name, this.__Label.Name, false) != 0 && Operators.CompareString(name, this.picConEx.Name, false) != 0 && Operators.CompareString(name, this.__GroupBox.Name, false) != 0)
        {
          if (control is TextBox)
            ((TextBoxBase) control).ReadOnly = !b;
          else
            control.Enabled = b;
        }
      }
    }
    finally
    {
      IEnumerator enumerator;
      if (enumerator is IDisposable)
        (enumerator as IDisposable).Dispose();
    }
  }

  public void SetCollapsed(bool b)
  {
    if (this.__IsContracted == b)
      return;
    this.OnClick_Click((object) null, (EventArgs) null);
  }

  public enum enTitleAling
  {
    Right,
    Left,
  }

  public delegate void OnCollapsedEventHandler(object sender, bool IsContracted);
}
