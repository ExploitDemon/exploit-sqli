// Decompiled with JetBrains decompiler
// Type: frmProxyTest
// Assembly: SQLi Dumper, Version=8.5.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FFDD07D3-5737-4188-BACA-DE2D004C7CCF
// Assembly location: C:\Users\cole\Desktop\SQLi Dumper v8.5 [VeryClean]\SQLi v.8.5 VeryClean by Stephanny.exe

using Microsoft.VisualBasic.CompilerServices;
using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.Runtime.CompilerServices;
using System.Windows.Forms;

[DesignerGenerated]
public class frmProxyTest : Form
{
  private IContainer components;
  [AccessedThroughProperty("tlsMenu")]
  private ToolStrip _tlsMenu;
  [AccessedThroughProperty("bckWorker")]
  private BackgroundWorker _bckWorker;
  [AccessedThroughProperty("numTimeOut")]
  private NumericUpDown _numTimeOut;
  [AccessedThroughProperty("stsMain")]
  private StatusStrip _stsMain;
  [AccessedThroughProperty("lblStatus")]
  private ToolStripStatusLabel _lblStatus;
  [AccessedThroughProperty("grbBrowser")]
  private GroupBox _grbBrowser;
  [AccessedThroughProperty("wbBrowser")]
  private WebBrowser _wbBrowser;
  [AccessedThroughProperty("cmbURL")]
  private ComboBox _cmbURL;
  [AccessedThroughProperty("btnGetData")]
  private ToolStripButton _btnGetData;
  [AccessedThroughProperty("ToolStripLabel1")]
  private ToolStripLabel _ToolStripLabel1;
  private string __Response;
  private int __TimeOut;

  public frmProxyTest()
  {
    this.FormClosing += new FormClosingEventHandler(this.frmProxyTest_FormClosing);
    this.Load += new EventHandler(this.frmProxyTest_Load);
    this.InitializeComponent();
  }

  [DebuggerNonUserCode]
  protected override void Dispose(bool disposing)
  {
    try
    {
      if (!disposing || this.components == null)
        return;
      this.components.Dispose();
    }
    finally
    {
      base.Dispose(disposing);
    }
  }

  [DebuggerStepThrough]
  private void InitializeComponent()
  {
    this.tlsMenu = new ToolStrip();
    this.btnGetData = new ToolStripButton();
    this.ToolStripLabel1 = new ToolStripLabel();
    this.bckWorker = new BackgroundWorker();
    this.numTimeOut = new NumericUpDown();
    this.stsMain = new StatusStrip();
    this.lblStatus = new ToolStripStatusLabel();
    this.grbBrowser = new GroupBox();
    this.wbBrowser = new WebBrowser();
    this.cmbURL = new ComboBox();
    this.tlsMenu.SuspendLayout();
    this.numTimeOut.BeginInit();
    this.stsMain.SuspendLayout();
    this.grbBrowser.SuspendLayout();
    this.SuspendLayout();
    this.tlsMenu.AutoSize = false;
    this.tlsMenu.GripStyle = ToolStripGripStyle.Hidden;
    this.tlsMenu.Items.AddRange(new ToolStripItem[2]
    {
      (ToolStripItem) this.btnGetData,
      (ToolStripItem) this.ToolStripLabel1
    });
    ToolStrip tlsMenu1 = this.tlsMenu;
    Point point1 = new Point(0, 0);
    Point point2 = point1;
    tlsMenu1.Location = point2;
    this.tlsMenu.Name = "tlsMenu";
    this.tlsMenu.Padding = new Padding(0, 0, 5, 0);
    ToolStrip tlsMenu2 = this.tlsMenu;
    Size size1 = new Size(701, 33);
    Size size2 = size1;
    tlsMenu2.Size = size2;
    this.tlsMenu.Stretch = true;
    this.tlsMenu.TabIndex = 0;
    this.tlsMenu.Text = "ToolStrip2";
    this.btnGetData.Alignment = ToolStripItemAlignment.Right;
    this.btnGetData.Image = (Image) My.Resources.Resources.Retry;
    this.btnGetData.ImageTransparentColor = Color.Magenta;
    this.btnGetData.Name = "btnGetData";
    ToolStripButton btnGetData = this.btnGetData;
    size1 = new Size(71, 30);
    Size size3 = size1;
    btnGetData.Size = size3;
    this.btnGetData.Text = "&Get Page";
    this.ToolStripLabel1.Alignment = ToolStripItemAlignment.Right;
    this.ToolStripLabel1.AutoSize = false;
    this.ToolStripLabel1.Name = "ToolStripLabel1";
    ToolStripLabel toolStripLabel1 = this.ToolStripLabel1;
    size1 = new Size(130, 30);
    Size size4 = size1;
    toolStripLabel1.Size = size4;
    this.ToolStripLabel1.Text = "TimeOut:";
    this.ToolStripLabel1.TextAlign = ContentAlignment.MiddleLeft;
    this.numTimeOut.Anchor = AnchorStyles.Top | AnchorStyles.Right;
    NumericUpDown numTimeOut1 = this.numTimeOut;
    Decimal num1 = new Decimal(new int[4]
    {
      1000,
      0,
      0,
      0
    });
    Decimal num2 = num1;
    numTimeOut1.Increment = num2;
    NumericUpDown numTimeOut2 = this.numTimeOut;
    point1 = new Point(553, 5);
    Point point3 = point1;
    numTimeOut2.Location = point3;
    NumericUpDown numTimeOut3 = this.numTimeOut;
    num1 = new Decimal(new int[4]{ 60000, 0, 0, 0 });
    Decimal num3 = num1;
    numTimeOut3.Maximum = num3;
    NumericUpDown numTimeOut4 = this.numTimeOut;
    num1 = new Decimal(new int[4]{ 1000, 0, 0, 0 });
    Decimal num4 = num1;
    numTimeOut4.Minimum = num4;
    this.numTimeOut.Name = "numTimeOut";
    NumericUpDown numTimeOut5 = this.numTimeOut;
    size1 = new Size(58, 21);
    Size size5 = size1;
    numTimeOut5.Size = size5;
    this.numTimeOut.TabIndex = 3;
    this.numTimeOut.TextAlign = HorizontalAlignment.Right;
    NumericUpDown numTimeOut6 = this.numTimeOut;
    num1 = new Decimal(new int[4]{ 5000, 0, 0, 0 });
    Decimal num5 = num1;
    numTimeOut6.Value = num5;
    this.stsMain.Items.AddRange(new ToolStripItem[1]
    {
      (ToolStripItem) this.lblStatus
    });
    StatusStrip stsMain1 = this.stsMain;
    point1 = new Point(0, 319);
    Point point4 = point1;
    stsMain1.Location = point4;
    this.stsMain.Name = "stsMain";
    this.stsMain.RenderMode = ToolStripRenderMode.Professional;
    StatusStrip stsMain2 = this.stsMain;
    size1 = new Size(701, 22);
    Size size6 = size1;
    stsMain2.Size = size6;
    this.stsMain.TabIndex = 6;
    this.stsMain.Text = "StatusStrip1";
    this.lblStatus.Name = "lblStatus";
    ToolStripStatusLabel lblStatus = this.lblStatus;
    size1 = new Size(686, 17);
    Size size7 = size1;
    lblStatus.Size = size7;
    this.lblStatus.Spring = true;
    this.lblStatus.TextAlign = ContentAlignment.MiddleLeft;
    this.grbBrowser.Controls.Add((Control) this.wbBrowser);
    this.grbBrowser.Dock = DockStyle.Fill;
    this.grbBrowser.ForeColor = Color.FromArgb(0, 0, 210);
    GroupBox grbBrowser1 = this.grbBrowser;
    point1 = new Point(0, 33);
    Point point5 = point1;
    grbBrowser1.Location = point5;
    this.grbBrowser.Name = "grbBrowser";
    GroupBox grbBrowser2 = this.grbBrowser;
    size1 = new Size(701, 286);
    Size size8 = size1;
    grbBrowser2.Size = size8;
    this.grbBrowser.TabIndex = 7;
    this.grbBrowser.TabStop = false;
    this.wbBrowser.Dock = DockStyle.Fill;
    WebBrowser wbBrowser1 = this.wbBrowser;
    point1 = new Point(3, 17);
    Point point6 = point1;
    wbBrowser1.Location = point6;
    WebBrowser wbBrowser2 = this.wbBrowser;
    size1 = new Size(20, 20);
    Size size9 = size1;
    wbBrowser2.MinimumSize = size9;
    this.wbBrowser.Name = "wbBrowser";
    WebBrowser wbBrowser3 = this.wbBrowser;
    size1 = new Size(695, 266);
    Size size10 = size1;
    wbBrowser3.Size = size10;
    this.wbBrowser.TabIndex = 1;
    this.cmbURL.AccessibleDescription = "";
    this.cmbURL.AccessibleName = "";
    this.cmbURL.Anchor = AnchorStyles.Top | AnchorStyles.Left | AnchorStyles.Right;
    this.cmbURL.AutoCompleteMode = AutoCompleteMode.SuggestAppend;
    this.cmbURL.AutoCompleteSource = AutoCompleteSource.CustomSource;
    this.cmbURL.FlatStyle = FlatStyle.Popup;
    this.cmbURL.Items.AddRange(new object[10]
    {
      (object) "http://whatismyipaddress.com/",
      (object) "http://www.auditmypc.com/whats-my-ip.asp",
      (object) "http://www.ipchicken.com/",
      (object) "http://www.whatsmyip.us/",
      (object) "http://www.whatsmyip.com.au/",
      (object) "http://www.whats-my-ip.biz/",
      (object) "http://www.whatsmyip.us/imgcode.php",
      (object) "http://www.ventrilo.com/myip.php",
      (object) "http://www.kissmyip.com/",
      (object) "http://www.2privacy.com/www/privacy-protection/privacy-test.html"
    });
    ComboBox cmbUrl1 = this.cmbURL;
    point1 = new Point(3, 5);
    Point point7 = point1;
    cmbUrl1.Location = point7;
    this.cmbURL.MaxDropDownItems = 30;
    this.cmbURL.Name = "cmbURL";
    ComboBox cmbUrl2 = this.cmbURL;
    size1 = new Size(484, 21);
    Size size11 = size1;
    cmbUrl2.Size = size11;
    this.cmbURL.TabIndex = 8;
    this.cmbURL.Text = "http://whatismyipaddress.com/";
    this.AutoScaleDimensions = new SizeF(6f, 13f);
    this.AutoScaleMode = AutoScaleMode.Font;
    this.BackColor = SystemColors.Control;
    size1 = new Size(701, 341);
    this.ClientSize = size1;
    this.Controls.Add((Control) this.numTimeOut);
    this.Controls.Add((Control) this.cmbURL);
    this.Controls.Add((Control) this.grbBrowser);
    this.Controls.Add((Control) this.stsMain);
    this.Controls.Add((Control) this.tlsMenu);
    this.Font = new Font("Tahoma", 8.25f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
    this.FormBorderStyle = FormBorderStyle.SizableToolWindow;
    this.MinimizeBox = false;
    size1 = new Size(709, 365);
    this.MinimumSize = size1;
    this.Name = nameof (frmProxyTest);
    this.ShowInTaskbar = false;
    this.StartPosition = FormStartPosition.CenterParent;
    this.Text = "Proxy Test";
    this.tlsMenu.ResumeLayout(false);
    this.tlsMenu.PerformLayout();
    this.numTimeOut.EndInit();
    this.stsMain.ResumeLayout(false);
    this.stsMain.PerformLayout();
    this.grbBrowser.ResumeLayout(false);
    this.ResumeLayout(false);
    this.PerformLayout();
  }

  internal virtual ToolStrip tlsMenu
  {
    get => this._tlsMenu;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._tlsMenu = value;
  }

  internal virtual BackgroundWorker bckWorker
  {
    get => this._bckWorker;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      RunWorkerCompletedEventHandler completedEventHandler = new RunWorkerCompletedEventHandler(this.bckWorker_RunWorkerCompleted);
      DoWorkEventHandler workEventHandler = new DoWorkEventHandler(this.bckWorker_DoWork);
      if (this._bckWorker != null)
      {
        this._bckWorker.RunWorkerCompleted -= completedEventHandler;
        this._bckWorker.DoWork -= workEventHandler;
      }
      this._bckWorker = value;
      if (this._bckWorker == null)
        return;
      this._bckWorker.RunWorkerCompleted += completedEventHandler;
      this._bckWorker.DoWork += workEventHandler;
    }
  }

  internal virtual NumericUpDown numTimeOut
  {
    get => this._numTimeOut;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._numTimeOut = value;
  }

  internal virtual StatusStrip stsMain
  {
    get => this._stsMain;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._stsMain = value;
  }

  internal virtual ToolStripStatusLabel lblStatus
  {
    get => this._lblStatus;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._lblStatus = value;
  }

  internal virtual GroupBox grbBrowser
  {
    get => this._grbBrowser;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._grbBrowser = value;
  }

  internal virtual WebBrowser wbBrowser
  {
    get => this._wbBrowser;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.wbBrowser_StatusTextChanged);
      if (this._wbBrowser != null)
        this._wbBrowser.StatusTextChanged -= eventHandler;
      this._wbBrowser = value;
      if (this._wbBrowser == null)
        return;
      this._wbBrowser.StatusTextChanged += eventHandler;
    }
  }

  internal virtual ComboBox cmbURL
  {
    get => this._cmbURL;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.cmbURL_Leave);
      if (this._cmbURL != null)
        this._cmbURL.Leave -= eventHandler;
      this._cmbURL = value;
      if (this._cmbURL == null)
        return;
      this._cmbURL.Leave += eventHandler;
    }
  }

  internal virtual ToolStripButton btnGetData
  {
    get => this._btnGetData;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.btnGetData_Click);
      if (this._btnGetData != null)
        this._btnGetData.Click -= eventHandler;
      this._btnGetData = value;
      if (this._btnGetData == null)
        return;
      this._btnGetData.Click += eventHandler;
    }
  }

  internal virtual ToolStripLabel ToolStripLabel1
  {
    get => this._ToolStripLabel1;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._ToolStripLabel1 = value;
  }

  private void SuppressOnlyScriptErrors(WebBrowser browser)
  {
    browser.ScriptErrorsSuppressed = true;
    browser.DocumentCompleted += new WebBrowserDocumentCompletedEventHandler(this.browser_DocumentCompleted);
  }

  private void browser_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)
  {
label_0:
    int num1;
    int num2;
    try
    {
      ProjectData.ClearProjectError();
      num1 = 1;
label_1:
      int num3 = 2;
      ((WebBrowser) sender).Document.Window.Error += new HtmlElementErrorEventHandler(this.Script_Error);
      goto label_8;
label_3:
      num2 = num3;
      switch (num1)
      {
        case 1:
          int num4 = num2 + 1;
          num2 = 0;
          switch (num4)
          {
            case 1:
              goto label_0;
            case 2:
              goto label_1;
            case 3:
              goto label_8;
          }
          break;
      }
    }
    catch (Exception ex) when (ex is Exception & (uint) num1 > 0U & num2 == 0)
    {
      ProjectData.SetProjectError(ex);
      goto label_3;
    }
    throw ProjectData.CreateProjectError(-2146828237);
label_8:
    if (num2 == 0)
      return;
    ProjectData.ClearProjectError();
  }

  private void Script_Error(object sender, HtmlElementErrorEventArgs e) => e.Handled = true;

  private void wbBrowser_StatusTextChanged(object sender, EventArgs e)
  {
label_0:
    int num1;
    int num2;
    try
    {
      ProjectData.ClearProjectError();
      num1 = 1;
label_1:
      int num3 = 2;
      this.lblStatus.Text = this.wbBrowser.StatusText;
label_2:
      num3 = 3;
      this.grbBrowser.Text = this.wbBrowser.DocumentTitle;
      goto label_9;
label_4:
      num2 = num3;
      switch (num1)
      {
        case 1:
          int num4 = num2 + 1;
          num2 = 0;
          switch (num4)
          {
            case 1:
              goto label_0;
            case 2:
              goto label_1;
            case 3:
              goto label_2;
            case 4:
              goto label_9;
          }
          break;
      }
    }
    catch (Exception ex) when (ex is Exception & (uint) num1 > 0U & num2 == 0)
    {
      ProjectData.SetProjectError(ex);
      goto label_4;
    }
    throw ProjectData.CreateProjectError(-2146828237);
label_9:
    if (num2 == 0)
      return;
    ProjectData.ClearProjectError();
  }

  private void frmProxyTest_FormClosing(object sender, FormClosingEventArgs e) => Globals.G_Settings.SaveSettings((Form) this);

  private void frmProxyTest_Load(object sender, EventArgs e)
  {
    this.SuppressOnlyScriptErrors(this.wbBrowser);
    Globals.G_Settings.LoadSettings((Form) this);
    this.Show();
    this.btnGetData_Click((object) null, (EventArgs) null);
  }

  private void cmbURL_Leave(object sender, EventArgs e)
  {
    if (Globals.G_Utilities.IsUrlValid(this.cmbURL.Text))
      return;
    this.cmbURL.Text = "http://whatismyipaddress.com/";
  }

  private void btnGetData_Click(object sender, EventArgs e)
  {
    this.cmbURL_Leave((object) null, (EventArgs) null);
    this.btnGetData.Enabled = false;
    this.Text = "Proxy Test - Loading HTTP data..";
    this.__TimeOut = Convert.ToInt32(this.numTimeOut.Value);
    this.wbBrowser.DocumentText = "";
    this.grbBrowser.Text = "";
    this.bckWorker.RunWorkerAsync((object) this.cmbURL.Text.Trim());
  }

  private void bckWorker_DoWork(object sender, DoWorkEventArgs e)
  {
    try
    {
      this.__Response = "";
      using (HTTP http1 = new HTTP(this.__TimeOut))
      {
        HTTP http2 = http1;
        string sUrl = e.Argument.ToString();
        string str1 = "";
        ref string local1 = ref str1;
        string str2 = "";
        ref string local2 = ref str2;
        this.__Response = http2.GetHTML(sUrl, sPostData: (ref local1), sErrDesc: (ref local2));
      }
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      ProjectData.ClearProjectError();
    }
  }

  private void bckWorker_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)
  {
    try
    {
      this.btnGetData.Enabled = true;
      this.SuppressOnlyScriptErrors(this.wbBrowser);
      this.wbBrowser.DocumentText = this.__Response;
      this.grbBrowser.Text = this.wbBrowser.DocumentTitle;
      if (Operators.CompareString(this.__Response, "", false) == 0)
        this.grbBrowser.Text = "DATA EMPTY";
      this.Text = "Proxy Test";
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      this.grbBrowser.Text = ex.ToString();
      ProjectData.ClearProjectError();
    }
  }
}
