// Decompiled with JetBrains decompiler
// Type: frmCookiesPost
// Assembly: SQLi Dumper, Version=8.5.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FFDD07D3-5737-4188-BACA-DE2D004C7CCF
// Assembly location: C:\Users\cole\Desktop\SQLi Dumper v8.5 [VeryClean]\SQLi v.8.5 VeryClean by Stephanny.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Collections;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.Runtime.CompilerServices;
using System.Windows.Forms;

[DesignerGenerated]
public class frmCookiesPost : Form
{
  private IContainer components;
  [AccessedThroughProperty("txtURL")]
  private TextBox _txtURL;
  [AccessedThroughProperty("tlsMenu")]
  private ToolStrip _tlsMenu;
  [AccessedThroughProperty("btnPasteURL")]
  private ToolStripButton _btnPasteURL;
  [AccessedThroughProperty("toolStripSeparator18")]
  private ToolStripSeparator _toolStripSeparator18;
  [AccessedThroughProperty("GroupContractable1")]
  private GroupContractable _GroupContractable1;
  [AccessedThroughProperty("txtCookies")]
  private TextBox _txtCookies;
  [AccessedThroughProperty("grbPost")]
  private GroupContractable _grbPost;
  [AccessedThroughProperty("txtPost")]
  private TextBox _txtPost;
  [AccessedThroughProperty("stsMain")]
  private StatusStrip _stsMain;
  [AccessedThroughProperty("lblStatus")]
  private ToolStripStatusLabel _lblStatus;
  [AccessedThroughProperty("wbBrowser")]
  private WebBrowser _wbBrowser;
  [AccessedThroughProperty("grbBrowser")]
  private GroupBox _grbBrowser;
  [AccessedThroughProperty("btnLoad")]
  private ToolStripButton _btnLoad;

  public frmCookiesPost()
  {
    this.Load += new EventHandler(this.frmCookiesPost_Load);
    this.InitializeComponent();
  }

  [DebuggerNonUserCode]
  protected override void Dispose(bool disposing)
  {
    try
    {
      if (!disposing || this.components == null)
        return;
      this.components.Dispose();
    }
    finally
    {
      base.Dispose(disposing);
    }
  }

  [DebuggerStepThrough]
  private void InitializeComponent()
  {
    this.components = (IContainer) new System.ComponentModel.Container();
    ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (frmCookiesPost));
    this.txtURL = new TextBox();
    this.tlsMenu = new ToolStrip();
    this.btnPasteURL = new ToolStripButton();
    this.toolStripSeparator18 = new ToolStripSeparator();
    this.btnLoad = new ToolStripButton();
    this.stsMain = new StatusStrip();
    this.lblStatus = new ToolStripStatusLabel();
    this.wbBrowser = new WebBrowser();
    this.grbBrowser = new GroupBox();
    this.grbPost = new GroupContractable(this.components);
    this.txtPost = new TextBox();
    this.GroupContractable1 = new GroupContractable(this.components);
    this.txtCookies = new TextBox();
    this.tlsMenu.SuspendLayout();
    this.stsMain.SuspendLayout();
    this.grbBrowser.SuspendLayout();
    this.grbPost.SuspendLayout();
    this.GroupContractable1.SuspendLayout();
    this.SuspendLayout();
    this.txtURL.Anchor = AnchorStyles.Top | AnchorStyles.Left | AnchorStyles.Right;
    this.txtURL.AutoCompleteMode = AutoCompleteMode.Suggest;
    this.txtURL.AutoCompleteSource = AutoCompleteSource.RecentlyUsedList;
    this.txtURL.BackColor = SystemColors.Window;
    TextBox txtUrl1 = this.txtURL;
    Point point1 = new Point(32, 6);
    Point point2 = point1;
    txtUrl1.Location = point2;
    this.txtURL.Name = "txtURL";
    TextBox txtUrl2 = this.txtURL;
    Size size1 = new Size(469, 20);
    Size size2 = size1;
    txtUrl2.Size = size2;
    this.txtURL.TabIndex = 5;
    this.txtURL.Text = "http://localhost/";
    this.tlsMenu.AutoSize = false;
    this.tlsMenu.GripStyle = ToolStripGripStyle.Hidden;
    this.tlsMenu.Items.AddRange(new ToolStripItem[3]
    {
      (ToolStripItem) this.btnPasteURL,
      (ToolStripItem) this.toolStripSeparator18,
      (ToolStripItem) this.btnLoad
    });
    ToolStrip tlsMenu1 = this.tlsMenu;
    point1 = new Point(0, 0);
    Point point3 = point1;
    tlsMenu1.Location = point3;
    this.tlsMenu.Name = "tlsMenu";
    this.tlsMenu.Padding = new Padding(0, 0, 5, 0);
    ToolStrip tlsMenu2 = this.tlsMenu;
    size1 = new Size(601, 33);
    Size size3 = size1;
    tlsMenu2.Size = size3;
    this.tlsMenu.Stretch = true;
    this.tlsMenu.TabIndex = 4;
    this.tlsMenu.Text = "ToolStrip2";
    this.btnPasteURL.DisplayStyle = ToolStripItemDisplayStyle.Image;
    this.btnPasteURL.Image = (Image) componentResourceManager.GetObject("btnPasteURL.Image");
    this.btnPasteURL.ImageTransparentColor = Color.Magenta;
    this.btnPasteURL.Name = "btnPasteURL";
    ToolStripButton btnPasteUrl = this.btnPasteURL;
    size1 = new Size(23, 30);
    Size size4 = size1;
    btnPasteUrl.Size = size4;
    this.btnPasteURL.Text = "&Paste URL";
    this.toolStripSeparator18.Name = "toolStripSeparator18";
    ToolStripSeparator stripSeparator18 = this.toolStripSeparator18;
    size1 = new Size(6, 33);
    Size size5 = size1;
    stripSeparator18.Size = size5;
    this.btnLoad.Alignment = ToolStripItemAlignment.Right;
    this.btnLoad.Image = (Image) My.Resources.Resources.Retry;
    this.btnLoad.ImageTransparentColor = Color.Magenta;
    this.btnLoad.Name = "btnLoad";
    ToolStripButton btnLoad = this.btnLoad;
    size1 = new Size(88, 30);
    Size size6 = size1;
    btnLoad.Size = size6;
    this.btnLoad.Text = "&Load Page..";
    this.stsMain.Items.AddRange(new ToolStripItem[1]
    {
      (ToolStripItem) this.lblStatus
    });
    StatusStrip stsMain1 = this.stsMain;
    point1 = new Point(0, 309);
    Point point4 = point1;
    stsMain1.Location = point4;
    this.stsMain.Name = "stsMain";
    this.stsMain.RenderMode = ToolStripRenderMode.Professional;
    StatusStrip stsMain2 = this.stsMain;
    size1 = new Size(601, 22);
    Size size7 = size1;
    stsMain2.Size = size7;
    this.stsMain.TabIndex = 9;
    this.stsMain.Text = "StatusStrip1";
    this.lblStatus.AutoToolTip = true;
    this.lblStatus.Name = "lblStatus";
    ToolStripStatusLabel lblStatus = this.lblStatus;
    size1 = new Size(586, 17);
    Size size8 = size1;
    lblStatus.Size = size8;
    this.lblStatus.Spring = true;
    this.lblStatus.Text = "Status";
    this.lblStatus.TextAlign = ContentAlignment.MiddleLeft;
    this.wbBrowser.Dock = DockStyle.Fill;
    WebBrowser wbBrowser1 = this.wbBrowser;
    point1 = new Point(3, 16);
    Point point5 = point1;
    wbBrowser1.Location = point5;
    WebBrowser wbBrowser2 = this.wbBrowser;
    size1 = new Size(20, 20);
    Size size9 = size1;
    wbBrowser2.MinimumSize = size9;
    this.wbBrowser.Name = "wbBrowser";
    WebBrowser wbBrowser3 = this.wbBrowser;
    size1 = new Size(595, 173);
    Size size10 = size1;
    wbBrowser3.Size = size10;
    this.wbBrowser.TabIndex = 10;
    this.grbBrowser.Controls.Add((Control) this.wbBrowser);
    this.grbBrowser.Dock = DockStyle.Fill;
    this.grbBrowser.ForeColor = Color.FromArgb(0, 0, 210);
    GroupBox grbBrowser1 = this.grbBrowser;
    point1 = new Point(0, 117);
    Point point6 = point1;
    grbBrowser1.Location = point6;
    this.grbBrowser.Name = "grbBrowser";
    GroupBox grbBrowser2 = this.grbBrowser;
    size1 = new Size(601, 192);
    Size size11 = size1;
    grbBrowser2.Size = size11;
    this.grbBrowser.TabIndex = 11;
    this.grbBrowser.TabStop = false;
    this.grbPost.Controls.Add((Control) this.txtPost);
    this.grbPost.Dock = DockStyle.Top;
    this.grbPost.EnableCollap = true;
    this.grbPost.Font = new Font("Tahoma", 8.25f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
    this.grbPost.ForeColor = SystemColors.ControlText;
    GroupContractable grbPost1 = this.grbPost;
    point1 = new Point(0, 75);
    Point point7 = point1;
    grbPost1.Location = point7;
    GroupContractable grbPost2 = this.grbPost;
    size1 = new Size(0, 16);
    Size size12 = size1;
    grbPost2.MinimumSize = size12;
    this.grbPost.Name = "grbPost";
    GroupContractable grbPost3 = this.grbPost;
    size1 = new Size(601, 42);
    Size size13 = size1;
    grbPost3.Size = size13;
    this.grbPost.TabIndex = 8;
    this.grbPost.TitleAling = GroupContractable.enTitleAling.Left;
    this.grbPost.TitleForeColor = Color.FromArgb(0, 0, 210);
    this.grbPost.TitleText = "Post";
    this.txtPost.Anchor = AnchorStyles.Top | AnchorStyles.Left | AnchorStyles.Right;
    this.txtPost.AutoCompleteMode = AutoCompleteMode.Suggest;
    this.txtPost.AutoCompleteSource = AutoCompleteSource.RecentlyUsedList;
    this.txtPost.BackColor = SystemColors.Window;
    TextBox txtPost1 = this.txtPost;
    point1 = new Point(3, 14);
    Point point8 = point1;
    txtPost1.Location = point8;
    this.txtPost.Name = "txtPost";
    this.txtPost.ReadOnly = true;
    TextBox txtPost2 = this.txtPost;
    size1 = new Size(593, 21);
    Size size14 = size1;
    txtPost2.Size = size14;
    this.txtPost.TabIndex = 7;
    this.GroupContractable1.Controls.Add((Control) this.txtCookies);
    this.GroupContractable1.Dock = DockStyle.Top;
    this.GroupContractable1.EnableCollap = true;
    this.GroupContractable1.Font = new Font("Tahoma", 8.25f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
    this.GroupContractable1.ForeColor = SystemColors.ControlText;
    GroupContractable groupContractable1_1 = this.GroupContractable1;
    point1 = new Point(0, 33);
    Point point9 = point1;
    groupContractable1_1.Location = point9;
    GroupContractable groupContractable1_2 = this.GroupContractable1;
    size1 = new Size(0, 16);
    Size size15 = size1;
    groupContractable1_2.MinimumSize = size15;
    this.GroupContractable1.Name = "GroupContractable1";
    GroupContractable groupContractable1_3 = this.GroupContractable1;
    size1 = new Size(601, 42);
    Size size16 = size1;
    groupContractable1_3.Size = size16;
    this.GroupContractable1.TabIndex = 7;
    this.GroupContractable1.TitleAling = GroupContractable.enTitleAling.Left;
    this.GroupContractable1.TitleForeColor = Color.FromArgb(0, 0, 210);
    this.GroupContractable1.TitleText = "Cookies";
    this.txtCookies.Anchor = AnchorStyles.Top | AnchorStyles.Left | AnchorStyles.Right;
    this.txtCookies.AutoCompleteMode = AutoCompleteMode.Suggest;
    this.txtCookies.AutoCompleteSource = AutoCompleteSource.RecentlyUsedList;
    this.txtCookies.BackColor = SystemColors.Window;
    TextBox txtCookies1 = this.txtCookies;
    point1 = new Point(3, 14);
    Point point10 = point1;
    txtCookies1.Location = point10;
    this.txtCookies.Name = "txtCookies";
    this.txtCookies.ReadOnly = true;
    TextBox txtCookies2 = this.txtCookies;
    size1 = new Size(593, 21);
    Size size17 = size1;
    txtCookies2.Size = size17;
    this.txtCookies.TabIndex = 7;
    this.AutoScaleDimensions = new SizeF(6f, 13f);
    this.AutoScaleMode = AutoScaleMode.Font;
    size1 = new Size(601, 331);
    this.ClientSize = size1;
    this.Controls.Add((Control) this.grbBrowser);
    this.Controls.Add((Control) this.stsMain);
    this.Controls.Add((Control) this.grbPost);
    this.Controls.Add((Control) this.GroupContractable1);
    this.Controls.Add((Control) this.txtURL);
    this.Controls.Add((Control) this.tlsMenu);
    this.FormBorderStyle = FormBorderStyle.SizableToolWindow;
    this.Name = nameof (frmCookiesPost);
    this.ShowInTaskbar = false;
    this.StartPosition = FormStartPosition.CenterParent;
    this.Text = "Cookies and Post Loader";
    this.tlsMenu.ResumeLayout(false);
    this.tlsMenu.PerformLayout();
    this.stsMain.ResumeLayout(false);
    this.stsMain.PerformLayout();
    this.grbBrowser.ResumeLayout(false);
    this.grbPost.ResumeLayout(false);
    this.grbPost.PerformLayout();
    this.GroupContractable1.ResumeLayout(false);
    this.GroupContractable1.PerformLayout();
    this.ResumeLayout(false);
    this.PerformLayout();
  }

  internal virtual TextBox txtURL
  {
    get => this._txtURL;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._txtURL = value;
  }

  internal virtual ToolStrip tlsMenu
  {
    get => this._tlsMenu;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._tlsMenu = value;
  }

  internal virtual ToolStripButton btnPasteURL
  {
    get => this._btnPasteURL;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._btnPasteURL = value;
  }

  internal virtual ToolStripSeparator toolStripSeparator18
  {
    get => this._toolStripSeparator18;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._toolStripSeparator18 = value;
  }

  internal virtual GroupContractable GroupContractable1
  {
    get => this._GroupContractable1;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._GroupContractable1 = value;
  }

  internal virtual TextBox txtCookies
  {
    get => this._txtCookies;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._txtCookies = value;
  }

  internal virtual GroupContractable grbPost
  {
    get => this._grbPost;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._grbPost = value;
  }

  internal virtual TextBox txtPost
  {
    get => this._txtPost;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._txtPost = value;
  }

  internal virtual StatusStrip stsMain
  {
    get => this._stsMain;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._stsMain = value;
  }

  internal virtual ToolStripStatusLabel lblStatus
  {
    get => this._lblStatus;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._lblStatus = value;
  }

  internal virtual WebBrowser wbBrowser
  {
    get => this._wbBrowser;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.wbBrowser_StatusTextChanged);
      if (this._wbBrowser != null)
        this._wbBrowser.StatusTextChanged -= eventHandler;
      this._wbBrowser = value;
      if (this._wbBrowser == null)
        return;
      this._wbBrowser.StatusTextChanged += eventHandler;
    }
  }

  internal virtual GroupBox grbBrowser
  {
    get => this._grbBrowser;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._grbBrowser = value;
  }

  internal virtual ToolStripButton btnLoad
  {
    get => this._btnLoad;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.btnLoad_Click);
      if (this._btnLoad != null)
        this._btnLoad.Click -= eventHandler;
      this._btnLoad = value;
      if (this._btnLoad == null)
        return;
      this._btnLoad.Click += eventHandler;
    }
  }

  private void wbBrowser_StatusTextChanged(object sender, EventArgs e)
  {
label_0:
    int num1;
    int num2;
    try
    {
      ProjectData.ClearProjectError();
      num1 = 1;
label_1:
      int num3 = 2;
      if (string.IsNullOrEmpty(this.wbBrowser.DocumentText))
        goto label_13;
label_2:
      num3 = 3;
      if (!this.wbBrowser.DocumentText.StartsWith("<HTML></HTML>"))
      {
        if (this.wbBrowser.DocumentText.Length < 15)
          goto label_13;
      }
      else
        goto label_13;
label_4:
      num3 = 4;
      if (string.IsNullOrEmpty(this.wbBrowser.StatusText))
        goto label_6;
label_5:
      num3 = 5;
      this.lblStatus.Text = this.wbBrowser.StatusText;
label_6:
      num3 = 7;
      this.grbBrowser.Text = this.wbBrowser.DocumentTitle;
      goto label_13;
label_8:
      num2 = num3;
      switch (num1)
      {
        case 1:
          int num4 = num2 + 1;
          num2 = 0;
          switch (num4)
          {
            case 1:
              goto label_0;
            case 2:
              goto label_1;
            case 3:
              goto label_2;
            case 4:
              goto label_4;
            case 5:
              goto label_5;
            case 6:
            case 7:
              goto label_6;
            case 8:
            case 9:
            case 10:
              goto label_13;
          }
          break;
      }
    }
    catch (Exception ex) when (ex is Exception & (uint) num1 > 0U & num2 == 0)
    {
      ProjectData.SetProjectError(ex);
      goto label_8;
    }
    throw ProjectData.CreateProjectError(-2146828237);
label_13:
    if (num2 == 0)
      return;
    ProjectData.ClearProjectError();
  }

  private void SuppressOnlyScriptErrors(WebBrowser browser)
  {
    browser.ScriptErrorsSuppressed = true;
    browser.DocumentCompleted += new WebBrowserDocumentCompletedEventHandler(this.browser_DocumentCompleted);
  }

  private void LinkClicked(object sender, EventArgs e)
  {
    HtmlElement activeElement = this.wbBrowser.Document.ActiveElement;
    string attribute = activeElement.GetAttribute("href");
    int num = (int) Interaction.MsgBox((object) ("Link Clicked: " + activeElement.InnerText + "\r\nDestination: " + attribute));
  }

  private void browser_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)
  {
label_0:
    int num1;
    int num2;
    try
    {
      ProjectData.ClearProjectError();
      num1 = 1;
label_1:
      int num3 = 2;
      this.txtCookies.Text = this.wbBrowser.Document.Cookie;
label_2:
      num3 = 3;
      HtmlElementCollection links = this.wbBrowser.Document.Links;
label_3:
      num3 = 4;
      IEnumerator enumerator = links.GetEnumerator();
      goto label_7;
label_5:
      num3 = 5;
      HtmlElement current;
      current.AttachEventHandler("onclick", new EventHandler(this.LinkClicked));
label_6:
      num3 = 6;
label_7:
      if (enumerator.MoveNext())
      {
        current = (HtmlElement) enumerator.Current;
        goto label_5;
      }
      else if (enumerator is IDisposable)
        (enumerator as IDisposable).Dispose();
label_10:
      num3 = 7;
      ((WebBrowser) sender).Document.Window.Error += new HtmlElementErrorEventHandler(this.Script_Error);
      goto label_17;
label_12:
      num2 = num3;
      switch (num1)
      {
        case 1:
          int num4 = num2 + 1;
          num2 = 0;
          switch (num4)
          {
            case 1:
              goto label_0;
            case 2:
              goto label_1;
            case 3:
              goto label_2;
            case 4:
              goto label_3;
            case 5:
              goto label_5;
            case 6:
              goto label_6;
            case 7:
              goto label_10;
            case 8:
              goto label_17;
          }
          break;
      }
    }
    catch (Exception ex) when (ex is Exception & (uint) num1 > 0U & num2 == 0)
    {
      ProjectData.SetProjectError(ex);
      goto label_12;
    }
    throw ProjectData.CreateProjectError(-2146828237);
label_17:
    if (num2 == 0)
      return;
    ProjectData.ClearProjectError();
  }

  private void Script_Error(object sender, HtmlElementErrorEventArgs e) => e.Handled = true;

  private void frmCookiesPost_Load(object sender, EventArgs e) => this.SuppressOnlyScriptErrors(this.wbBrowser);

  private void btnLoad_Click(object sender, EventArgs e)
  {
    try
    {
      this.btnLoad.Enabled = false;
      this.wbBrowser.Navigate(this.txtURL.Text.Trim());
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      int num = (int) MessageBox.Show(ex.Message, this.Text, MessageBoxButtons.OK, MessageBoxIcon.Hand);
      ProjectData.ClearProjectError();
    }
    finally
    {
      this.btnLoad.Enabled = true;
    }
  }
}
