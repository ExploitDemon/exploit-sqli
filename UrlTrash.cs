// Decompiled with JetBrains decompiler
// Type: UrlTrash
// Assembly: SQLi Dumper, Version=8.5.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FFDD07D3-5737-4188-BACA-DE2D004C7CCF
// Assembly location: C:\Users\cole\Desktop\SQLi Dumper v8.5 [VeryClean]\SQLi v.8.5 VeryClean by Stephanny.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using My;
using System;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Runtime.CompilerServices;
using System.Threading;
using System.Windows.Forms;

[DesignerGenerated]
public class UrlTrash : UserControl
{
  private IContainer components;
  [AccessedThroughProperty("ToolStrip5")]
  private ToolStrip _ToolStrip5;
  [AccessedThroughProperty("btnRemAll")]
  private ToolStripButton _btnRemAll;
  [AccessedThroughProperty("btnRemSeleted")]
  private ToolStripButton _btnRemSeleted;
  [AccessedThroughProperty("ToolStripLabel1")]
  private ToolStripLabel _ToolStripLabel1;
  [AccessedThroughProperty("cmbItems")]
  private ToolStripComboBox _cmbItems;
  [AccessedThroughProperty("ToolStripSeparator1")]
  private ToolStripSeparator _ToolStripSeparator1;
  [AccessedThroughProperty("btnClipboard")]
  private ToolStripButton _btnClipboard;
  [AccessedThroughProperty("ToolStripSeparator2")]
  private ToolStripSeparator _ToolStripSeparator2;
  [AccessedThroughProperty("btnShell")]
  private ToolStripButton _btnShell;
  [AccessedThroughProperty("btnRefresh")]
  private ToolStripButton _btnRefresh;
  [AccessedThroughProperty("ToolStripSeparator3")]
  private ToolStripSeparator _ToolStripSeparator3;
  [AccessedThroughProperty("lblDemo")]
  private Label _lblDemo;
  [AccessedThroughProperty("btnAdd")]
  private ToolStripButton _btnAdd;
  [AccessedThroughProperty("ToolStripSeparator4")]
  private ToolStripSeparator _ToolStripSeparator4;
  [AccessedThroughProperty("urlList")]
  private ListViewExt _urlList;
  [AccessedThroughProperty("ColumnHeader1")]
  private ColumnHeader _ColumnHeader1;
  private List<string> __List;
  private bool __IsLoadFile;

  [DebuggerNonUserCode]
  protected override void Dispose(bool disposing)
  {
    try
    {
      if (!disposing || this.components == null)
        return;
      this.components.Dispose();
    }
    finally
    {
      base.Dispose(disposing);
    }
  }

  [DebuggerStepThrough]
  private void InitializeComponent()
  {
    this.ToolStrip5 = new ToolStrip();
    this.btnRemAll = new ToolStripButton();
    this.btnAdd = new ToolStripButton();
    this.ToolStripSeparator4 = new ToolStripSeparator();
    this.btnClipboard = new ToolStripButton();
    this.ToolStripSeparator2 = new ToolStripSeparator();
    this.btnShell = new ToolStripButton();
    this.ToolStripSeparator1 = new ToolStripSeparator();
    this.btnRemSeleted = new ToolStripButton();
    this.ToolStripSeparator3 = new ToolStripSeparator();
    this.btnRefresh = new ToolStripButton();
    this.cmbItems = new ToolStripComboBox();
    this.ToolStripLabel1 = new ToolStripLabel();
    this.lblDemo = new Label();
    this.urlList = new ListViewExt();
    this.ColumnHeader1 = new ColumnHeader();
    this.ToolStrip5.SuspendLayout();
    this.SuspendLayout();
    this.ToolStrip5.AutoSize = false;
    this.ToolStrip5.GripStyle = ToolStripGripStyle.Hidden;
    this.ToolStrip5.Items.AddRange(new ToolStripItem[12]
    {
      (ToolStripItem) this.btnRemAll,
      (ToolStripItem) this.btnAdd,
      (ToolStripItem) this.ToolStripSeparator4,
      (ToolStripItem) this.btnClipboard,
      (ToolStripItem) this.ToolStripSeparator2,
      (ToolStripItem) this.btnShell,
      (ToolStripItem) this.ToolStripSeparator1,
      (ToolStripItem) this.btnRemSeleted,
      (ToolStripItem) this.ToolStripSeparator3,
      (ToolStripItem) this.btnRefresh,
      (ToolStripItem) this.cmbItems,
      (ToolStripItem) this.ToolStripLabel1
    });
    ToolStrip toolStrip5_1 = this.ToolStrip5;
    Point point1 = new Point(0, 0);
    Point point2 = point1;
    toolStrip5_1.Location = point2;
    this.ToolStrip5.Name = "ToolStrip5";
    this.ToolStrip5.RenderMode = ToolStripRenderMode.Professional;
    ToolStrip toolStrip5_2 = this.ToolStrip5;
    Size size1 = new Size(695, 25);
    Size size2 = size1;
    toolStrip5_2.Size = size2;
    this.ToolStrip5.TabIndex = 6;
    this.ToolStrip5.Text = "ToolStrip5";
    this.btnRemAll.Alignment = ToolStripItemAlignment.Right;
    this.btnRemAll.AutoToolTip = false;
    this.btnRemAll.ForeColor = SystemColors.ControlText;
    this.btnRemAll.Image = (Image) My.Resources.Resources.Offline;
    this.btnRemAll.ImageTransparentColor = Color.Magenta;
    this.btnRemAll.Name = "btnRemAll";
    ToolStripButton btnRemAll = this.btnRemAll;
    size1 = new Size(54, 22);
    Size size3 = size1;
    btnRemAll.Size = size3;
    this.btnRemAll.Text = "&Clear";
    this.btnAdd.AutoToolTip = false;
    this.btnAdd.ForeColor = SystemColors.ControlText;
    this.btnAdd.Image = (Image) My.Resources.Resources.OpenFile;
    this.btnAdd.ImageTransparentColor = Color.Magenta;
    this.btnAdd.Name = "btnAdd";
    ToolStripButton btnAdd = this.btnAdd;
    size1 = new Size(49, 22);
    Size size4 = size1;
    btnAdd.Size = size4;
    this.btnAdd.Text = "&Add";
    this.ToolStripSeparator4.Name = "ToolStripSeparator4";
    ToolStripSeparator toolStripSeparator4 = this.ToolStripSeparator4;
    size1 = new Size(6, 25);
    Size size5 = size1;
    toolStripSeparator4.Size = size5;
    this.btnClipboard.AutoToolTip = false;
    this.btnClipboard.ForeColor = SystemColors.ControlText;
    this.btnClipboard.Image = (Image) My.Resources.Resources.clipboard;
    this.btnClipboard.ImageTransparentColor = Color.Magenta;
    this.btnClipboard.Name = "btnClipboard";
    ToolStripButton btnClipboard = this.btnClipboard;
    size1 = new Size(79, 22);
    Size size6 = size1;
    btnClipboard.Size = size6;
    this.btnClipboard.Text = "&Clipboard";
    this.ToolStripSeparator2.Name = "ToolStripSeparator2";
    ToolStripSeparator toolStripSeparator2 = this.ToolStripSeparator2;
    size1 = new Size(6, 25);
    Size size7 = size1;
    toolStripSeparator2.Size = size7;
    this.btnShell.AutoToolTip = false;
    this.btnShell.ForeColor = SystemColors.ControlText;
    this.btnShell.Image = (Image) My.Resources.Resources.WebInsertHyperlinkHS;
    this.btnShell.ImageTransparentColor = Color.Magenta;
    this.btnShell.Name = "btnShell";
    ToolStripButton btnShell = this.btnShell;
    size1 = new Size(52, 22);
    Size size8 = size1;
    btnShell.Size = size8;
    this.btnShell.Text = "&Shell";
    this.ToolStripSeparator1.Name = "ToolStripSeparator1";
    ToolStripSeparator toolStripSeparator1 = this.ToolStripSeparator1;
    size1 = new Size(6, 25);
    Size size9 = size1;
    toolStripSeparator1.Size = size9;
    this.btnRemSeleted.AutoToolTip = false;
    this.btnRemSeleted.ForeColor = SystemColors.ControlText;
    this.btnRemSeleted.Image = (Image) My.Resources.Resources.GetData;
    this.btnRemSeleted.ImageTransparentColor = Color.Magenta;
    this.btnRemSeleted.Name = "btnRemSeleted";
    ToolStripButton btnRemSeleted = this.btnRemSeleted;
    size1 = new Size(70, 22);
    Size size10 = size1;
    btnRemSeleted.Size = size10;
    this.btnRemSeleted.Text = "&Remove";
    this.ToolStripSeparator3.Alignment = ToolStripItemAlignment.Right;
    this.ToolStripSeparator3.Name = "ToolStripSeparator3";
    ToolStripSeparator toolStripSeparator3 = this.ToolStripSeparator3;
    size1 = new Size(6, 25);
    Size size11 = size1;
    toolStripSeparator3.Size = size11;
    this.btnRefresh.Alignment = ToolStripItemAlignment.Right;
    this.btnRefresh.AutoToolTip = false;
    this.btnRefresh.ForeColor = SystemColors.ControlText;
    this.btnRefresh.Image = (Image) My.Resources.Resources.Refresh;
    this.btnRefresh.ImageTransparentColor = Color.Magenta;
    this.btnRefresh.Name = "btnRefresh";
    ToolStripButton btnRefresh = this.btnRefresh;
    size1 = new Size(66, 22);
    Size size12 = size1;
    btnRefresh.Size = size12;
    this.btnRefresh.Text = "&Refresh";
    this.cmbItems.Alignment = ToolStripItemAlignment.Right;
    this.cmbItems.DropDownStyle = ComboBoxStyle.DropDownList;
    this.cmbItems.Name = "cmbItems";
    ToolStripComboBox cmbItems = this.cmbItems;
    size1 = new Size(121, 25);
    Size size13 = size1;
    cmbItems.Size = size13;
    this.ToolStripLabel1.Alignment = ToolStripItemAlignment.Right;
    this.ToolStripLabel1.Name = "ToolStripLabel1";
    ToolStripLabel toolStripLabel1 = this.ToolStripLabel1;
    size1 = new Size(60, 22);
    Size size14 = size1;
    toolStripLabel1.Size = size14;
    this.ToolStripLabel1.Text = "Last Items";
    this.lblDemo.BackColor = Color.White;
    this.lblDemo.Dock = DockStyle.Bottom;
    this.lblDemo.Font = new Font("Microsoft Sans Serif", 8.25f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
    Label lblDemo1 = this.lblDemo;
    point1 = new Point(0, 243);
    Point point3 = point1;
    lblDemo1.Location = point3;
    this.lblDemo.Name = "lblDemo";
    Label lblDemo2 = this.lblDemo;
    size1 = new Size(695, 13);
    Size size15 = size1;
    lblDemo2.Size = size15;
    this.lblDemo.TabIndex = 8;
    this.lblDemo.Text = "Sorry, but the Trash System in DEMO MODE works only with max. 5.000 URL's";
    this.lblDemo.TextAlign = ContentAlignment.MiddleCenter;
    this.urlList.Columns.AddRange(new ColumnHeader[1]
    {
      this.ColumnHeader1
    });
    this.urlList.Dock = DockStyle.Fill;
    this.urlList.FullRowSelect = true;
    this.urlList.HideSelection = false;
    ListViewExt urlList1 = this.urlList;
    point1 = new Point(0, 25);
    Point point4 = point1;
    urlList1.Location = point4;
    this.urlList.Name = "urlList";
    ListViewExt urlList2 = this.urlList;
    size1 = new Size(695, 218);
    Size size16 = size1;
    urlList2.Size = size16;
    this.urlList.TabIndex = 9;
    this.urlList.UseCompatibleStateImageBehavior = false;
    this.urlList.View = View.Details;
    this.ColumnHeader1.Text = "URL";
    this.ColumnHeader1.Width = 666;
    this.AutoScaleDimensions = new SizeF(6f, 13f);
    this.AutoScaleMode = AutoScaleMode.Font;
    this.Controls.Add((Control) this.urlList);
    this.Controls.Add((Control) this.lblDemo);
    this.Controls.Add((Control) this.ToolStrip5);
    this.Name = nameof (UrlTrash);
    size1 = new Size(695, 256);
    this.Size = size1;
    this.ToolStrip5.ResumeLayout(false);
    this.ToolStrip5.PerformLayout();
    this.ResumeLayout(false);
  }

  internal virtual ToolStrip ToolStrip5
  {
    get => this._ToolStrip5;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._ToolStrip5 = value;
  }

  internal virtual ToolStripButton btnRemAll
  {
    get => this._btnRemAll;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.btnRemAll_Click);
      if (this._btnRemAll != null)
        this._btnRemAll.Click -= eventHandler;
      this._btnRemAll = value;
      if (this._btnRemAll == null)
        return;
      this._btnRemAll.Click += eventHandler;
    }
  }

  internal virtual ToolStripButton btnRemSeleted
  {
    get => this._btnRemSeleted;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.btnRemSeleted_Click);
      if (this._btnRemSeleted != null)
        this._btnRemSeleted.Click -= eventHandler;
      this._btnRemSeleted = value;
      if (this._btnRemSeleted == null)
        return;
      this._btnRemSeleted.Click += eventHandler;
    }
  }

  internal virtual ToolStripLabel ToolStripLabel1
  {
    get => this._ToolStripLabel1;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._ToolStripLabel1 = value;
  }

  internal virtual ToolStripComboBox cmbItems
  {
    get => this._cmbItems;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.cmbItems_SelectedIndexChanged);
      if (this._cmbItems != null)
        this._cmbItems.SelectedIndexChanged -= eventHandler;
      this._cmbItems = value;
      if (this._cmbItems == null)
        return;
      this._cmbItems.SelectedIndexChanged += eventHandler;
    }
  }

  internal virtual ToolStripSeparator ToolStripSeparator1
  {
    get => this._ToolStripSeparator1;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._ToolStripSeparator1 = value;
  }

  internal virtual ToolStripButton btnClipboard
  {
    get => this._btnClipboard;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.btnClipboard_Click);
      if (this._btnClipboard != null)
        this._btnClipboard.Click -= eventHandler;
      this._btnClipboard = value;
      if (this._btnClipboard == null)
        return;
      this._btnClipboard.Click += eventHandler;
    }
  }

  internal virtual ToolStripSeparator ToolStripSeparator2
  {
    get => this._ToolStripSeparator2;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._ToolStripSeparator2 = value;
  }

  internal virtual ToolStripButton btnShell
  {
    get => this._btnShell;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.btnShell_Click);
      if (this._btnShell != null)
        this._btnShell.Click -= eventHandler;
      this._btnShell = value;
      if (this._btnShell == null)
        return;
      this._btnShell.Click += eventHandler;
    }
  }

  internal virtual ToolStripButton btnRefresh
  {
    get => this._btnRefresh;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.cmbItems_SelectedIndexChanged);
      if (this._btnRefresh != null)
        this._btnRefresh.Click -= eventHandler;
      this._btnRefresh = value;
      if (this._btnRefresh == null)
        return;
      this._btnRefresh.Click += eventHandler;
    }
  }

  internal virtual ToolStripSeparator ToolStripSeparator3
  {
    get => this._ToolStripSeparator3;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._ToolStripSeparator3 = value;
  }

  internal virtual Label lblDemo
  {
    get => this._lblDemo;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._lblDemo = value;
  }

  internal virtual ToolStripButton btnAdd
  {
    get => this._btnAdd;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.btnAdd_Click);
      if (this._btnAdd != null)
        this._btnAdd.Click -= eventHandler;
      this._btnAdd = value;
      if (this._btnAdd == null)
        return;
      this._btnAdd.Click += eventHandler;
    }
  }

  internal virtual ToolStripSeparator ToolStripSeparator4
  {
    get => this._ToolStripSeparator4;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._ToolStripSeparator4 = value;
  }

  internal virtual ListViewExt urlList
  {
    get => this._urlList;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._urlList = value;
  }

  internal virtual ColumnHeader ColumnHeader1
  {
    get => this._ColumnHeader1;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._ColumnHeader1 = value;
  }

  public event UrlTrash.OnItemsChangedEventHandler OnItemsChanged;

  public int Count => this.__List.Count;

  public void AddRange(string[] sItems)
  {
    if (this.InvokeRequired)
    {
      this.Invoke((Delegate) (a0 => this.AddRange((string[]) a0)), (object[]) sItems);
    }
    else
    {
      this.__List.AddRange((IEnumerable<string>) sItems);
      UrlTrash.OnItemsChangedEventHandler itemsChangedEvent = this.OnItemsChangedEvent;
      if (itemsChangedEvent == null)
        return;
      itemsChangedEvent((object) this);
    }
  }

  public void Add(string sItem)
  {
    if (this.InvokeRequired)
    {
      this.Invoke((Delegate) (a0 => this.Add(Conversions.ToString(a0))), (object) sItem);
    }
    else
    {
      sItem = sItem.Replace("'", "");
      sItem = sItem.Replace("+", " ");
      sItem = sItem.Trim();
      if (this.__List.Contains(sItem))
        return;
      this.__List.Add(sItem);
      Globals.LockWindowUpdate((IntPtr) this.urlList.Handle.ToInt32());
      this.urlList.Items.Add(this.GetLwObj((object) this.Site));
      if (this.cmbItems.SelectedIndex != checked (this.cmbItems.Items.Count - 1) || this.urlList.Items.Count > Conversions.ToInteger(this.cmbItems.SelectedItem))
        this.urlList.Items.RemoveAt(0);
      Globals.LockWindowUpdate(IntPtr.Zero);
      UrlTrash.OnItemsChangedEventHandler itemsChangedEvent = this.OnItemsChangedEvent;
      if (itemsChangedEvent == null)
        return;
      itemsChangedEvent((object) this);
    }
  }

  public void Remove(string sItem)
  {
    if (this.InvokeRequired)
    {
      this.Invoke((Delegate) (a0 => this.Remove(Conversions.ToString(a0))), (object) sItem);
    }
    else
    {
      if (string.IsNullOrEmpty(sItem) || !this.__List.Contains(sItem))
        return;
      this.__List.Remove(sItem);
      UrlTrash.OnItemsChangedEventHandler itemsChangedEvent = this.OnItemsChangedEvent;
      if (itemsChangedEvent == null)
        return;
      itemsChangedEvent((object) this);
    }
  }

  public void Clear(string sItem = "")
  {
    if (this.InvokeRequired)
    {
      this.Invoke((Delegate) (a0 => this.Clear(Conversions.ToString(a0))), (object) sItem);
    }
    else
    {
      this.__List.Clear();
      this.RefreshView(true);
      UrlTrash.OnItemsChangedEventHandler itemsChangedEvent = this.OnItemsChangedEvent;
      if (itemsChangedEvent == null)
        return;
      itemsChangedEvent((object) this);
    }
  }

  public void LoadList()
  {
    if (File.Exists(Globals.TXT_URL_TRASH) && !this.__IsLoadFile)
    {
      this.__IsLoadFile = true;
      new Thread((ThreadStart) (() => this.LoadListThread())).Start();
    }
    this.RefreshView(true);
  }

  public void SaveList(string sPath)
  {
    if (this.InvokeRequired)
    {
      this.Invoke((Delegate) (a0 => this.LoadList()), (object) sPath);
    }
    else
    {
      if (File.Exists(sPath))
        File.Delete(sPath);
      if (this.__List.Count <= 0)
        return;
      File.WriteAllLines(sPath, this.__List.ToArray());
    }
  }

  private void LoadListThread(string sParams = "")
  {
    if (this.InvokeRequired)
    {
      this.Invoke((Delegate) (a0 => this.LoadListThread(Conversions.ToString(a0))), (object) Globals.TXT_URL_TRASH);
    }
    else
    {
      this.AddRange(File.ReadAllLines(Globals.TXT_URL_TRASH));
      UrlTrash.OnItemsChangedEventHandler itemsChangedEvent = this.OnItemsChangedEvent;
      if (itemsChangedEvent == null)
        return;
      itemsChangedEvent((object) this);
    }
  }

  internal void RefreshView(bool bClear)
  {
    this.Cursor = Cursors.WaitCursor;
    if (bClear)
      this.urlList.Items.Clear();
    if (this.cmbItems.SelectedIndex == checked (this.cmbItems.Items.Count - 1))
    {
      this.urlList.Items.AddRange(Array.ConvertAll<string, ListViewItem>(this.__List.ToArray(), new Converter<string, ListViewItem>(this.GetLwObj)));
    }
    else
    {
      List<string> stringList = new List<string>();
      int num1 = checked (Conversions.ToInteger(this.cmbItems.Text) - 1);
      int num2 = 0;
      while (num2 <= num1 && num2 <= checked (this.__List.Count - 1))
      {
        stringList.Add(this.__List[checked (this.__List.Count - 1 - num2)]);
        checked { ++num2; }
      }
      this.urlList.Items.AddRange(Array.ConvertAll<string, ListViewItem>(stringList.ToArray(), new Converter<string, ListViewItem>(this.GetLwObj)));
    }
    this.Cursor = Cursors.Default;
  }

  private ListViewItem GetLwObj(object value) => new ListViewItem(value.ToString());

  public bool Contains(string sItem)
  {
    sItem = sItem.Replace("'", "");
    sItem = sItem.Replace("+", "");
    return this.__List.Contains(sItem);
  }

  private List<string> GetSeleted()
  {
    List<string> stringList = new List<string>();
    try
    {
      foreach (ListViewItem selectedItem in this.urlList.SelectedItems)
        stringList.Add(selectedItem.Text);
    }
    finally
    {
      IEnumerator enumerator;
      if (enumerator is IDisposable)
        (enumerator as IDisposable).Dispose();
    }
    return stringList;
  }

  private void btnRemAll_Click(object sender, EventArgs e)
  {
    if (this.__List.Count > 100)
    {
      if (MessageBox.Show("You are a sure?", "Clear All trash?", MessageBoxButtons.YesNo, MessageBoxIcon.Exclamation, MessageBoxDefaultButton.Button2) == DialogResult.Yes)
      {
        this.__List.Clear();
        this.RefreshView(true);
      }
    }
    else
    {
      this.__List.Clear();
      this.RefreshView(true);
    }
    UrlTrash.OnItemsChangedEventHandler itemsChangedEvent = this.OnItemsChangedEvent;
    if (itemsChangedEvent == null)
      return;
    itemsChangedEvent((object) this);
  }

  private void btnRemSeleted_Click(object sender, EventArgs e)
  {
    List<string> seleted = this.GetSeleted();
    try
    {
      foreach (string sItem in seleted)
        this.Remove(sItem);
    }
    finally
    {
      List<string>.Enumerator enumerator;
      enumerator.Dispose();
    }
    UrlTrash.OnItemsChangedEventHandler itemsChangedEvent = this.OnItemsChangedEvent;
    if (itemsChangedEvent == null)
      return;
    itemsChangedEvent((object) this);
  }

  public UrlTrash()
  {
    this.__List = new List<string>();
    this.InitializeComponent();
    this.cmbItems.Items.AddRange((object[]) new string[6]
    {
      "500",
      "1000",
      "5000",
      "10000",
      "20000",
      "All URL's"
    });
    this.cmbItems.SelectedIndex = 0;
    this.Controls.Remove((Control) this.lblDemo);
    this.lblDemo.Dispose();
  }

  private void cmbItems_SelectedIndexChanged(object sender, EventArgs e)
  {
    if (Globals.G_Main == null || !Globals.G_Main.GUI_IS_LOADED)
      return;
    if (this.cmbItems.SelectedIndex == checked (this.cmbItems.Items.Count - 1) && this.__List.Count > 30000 && MessageBox.Show("The trash has " + Conversions.ToString(this.__List.Count) + " URL's, you want to load all?", Globals.APP_VERSION, MessageBoxButtons.YesNo, MessageBoxIcon.Exclamation, MessageBoxDefaultButton.Button2) == DialogResult.No)
      this.cmbItems.SelectedIndex = 0;
    else
      this.RefreshView(true);
  }

  [MethodImpl(MethodImplOptions.NoOptimization)]
  private void btnClipboard_Click(object sender, EventArgs e)
  {
    try
    {
      List<string> seleted = this.GetSeleted();
      string text = "";
      try
      {
        foreach (string str in seleted)
          text = Conversions.ToString(Operators.ConcatenateObject((object) text, Operators.ConcatenateObject(Interaction.IIf(string.IsNullOrEmpty(text), (object) "", (object) "\r\n"), (object) str)));
      }
      finally
      {
        List<string>.Enumerator enumerator;
        enumerator.Dispose();
      }
      if (string.IsNullOrEmpty(text))
        return;
      Clipboard.SetText(text);
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      int num = (int) MessageBox.Show(ex.Message, MyProject.Application.Info.Title, MessageBoxButtons.OK, MessageBoxIcon.Hand);
      ProjectData.ClearProjectError();
    }
  }

  private void btnShell_Click(object sender, EventArgs e)
  {
    List<string> seleted = this.GetSeleted();
    if (seleted.Count <= 0)
      return;
    Interaction.Shell(seleted[0]);
  }

  private void btnAdd_Click(object sender, EventArgs e)
  {
    using (frmAddUrls frmAddUrls = new frmAddUrls())
    {
      int num1 = (int) frmAddUrls.ShowDialog((IWin32Window) this);
      if (frmAddUrls.DialogResult != DialogResult.OK)
        return;
      string[] lines = frmAddUrls.txtURL.Lines;
      int index = 0;
      int num2;
      while (index < lines.Length)
      {
        string str = lines[index];
        if (Globals.G_Scanner.UrlRight(str) && !this.Contains(str))
        {
          this.Add(str);
          checked { ++num2; }
        }
        checked { ++index; }
      }
      Globals.UpDateStatus("Trash Add URL's thread done, added " + Conversions.ToString(num2));
    }
  }

  private delegate void DSub(object Item);

  public delegate void OnItemsChangedEventHandler(object sender);
}
