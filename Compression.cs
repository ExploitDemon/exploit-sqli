// Decompiled with JetBrains decompiler
// Type: Compression
// Assembly: SQLi Dumper, Version=8.5.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FFDD07D3-5737-4188-BACA-DE2D004C7CCF
// Assembly location: C:\Users\cole\Desktop\SQLi Dumper v8.5 [VeryClean]\SQLi v.8.5 VeryClean by Stephanny.exe

using Microsoft.VisualBasic.CompilerServices;
using System;
using System.IO;
using System.IO.Compression;

public class Compression
{
  public static byte[] Compress(byte[] bytData)
  {
    using (MemoryStream memoryStream = new MemoryStream())
    {
      using (GZipStream gzipStream = new GZipStream((Stream) memoryStream, CompressionMode.Compress))
      {
        gzipStream.Write(bytData, 0, bytData.Length);
        gzipStream.Close();
        bytData = new byte[checked (memoryStream.ToArray().Length - 1 + 1)];
        bytData = memoryStream.ToArray();
      }
      memoryStream.Close();
    }
    return bytData;
  }

  public static byte[] Decompress(byte[] bytData)
  {
    using (MemoryStream memoryStream = new MemoryStream(bytData))
    {
      using (GZipStream gzipStream = new GZipStream((Stream) memoryStream, CompressionMode.Decompress))
      {
        int offset = 0;
        int num;
        do
        {
          bytData = (byte[]) Utils.CopyArray((Array) bytData, (Array) new byte[checked (offset + 1024 - 1 + 1)]);
          num = gzipStream.Read(bytData, offset, 1024);
          checked { offset += num; }
        }
        while (num >= 1024);
        bytData = (byte[]) Utils.CopyArray((Array) bytData, (Array) new byte[checked (offset - 1 + 1)]);
        gzipStream.Close();
      }
      memoryStream.Close();
    }
    return bytData;
  }
}
